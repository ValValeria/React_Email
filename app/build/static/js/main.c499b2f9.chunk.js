(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{134:function(e,t,a){e.exports=a(149)},139:function(e,t,a){},140:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),i=(a(139),a(140),a(16));function l(e){return r.a.createElement("div",{className:"section__area"},r.a.createElement("div",{className:"section__wrap"},r.a.createElement("div",{className:"section__content"},[e.children])))}var o=a(193),u=a(221),m=a(220),d=a(45),p=function(e){return r.a.createElement("section",{className:"main__banner"},r.a.createElement(l,null,r.a.createElement("div",{className:"section__content-wrap "},r.a.createElement("div",{className:"section__content-main flex_center flex_cl txt_center"},r.a.createElement("h5",null,"Schedule your time ",r.a.createElement("span",null,"\ud83d\ude80")),r.a.createElement("p",null,"All features are free. No payment"),r.a.createElement("div",{className:"buttons"},r.a.createElement(o.a,{color:"primary",variant:"contained"},r.a.createElement(d.b,{to:"/sendmail"},"Try it now")),r.a.createElement("button",{className:"btn_beauty",title:"Under development",disabled:!0},r.a.createElement("svg",{viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"#4E5D78",d:"M17.8436076,12.841119 L8.54075759,18.8215226 C8.07618755,19.1201747 7.4574737,18.9856717 7.15882152,18.5211017 C7.05513038,18.3598044 7,18.1720957 7,17.9803441 L7,6.01953696 C7,5.46725221 7.44771525,5.01953696 8,5.01953696 C8.19175162,5.01953696 8.37946026,5.07466734 8.54075759,5.17835848 L17.8436076,11.1587621 C18.3081776,11.4574142 18.4426806,12.0761281 18.1440285,12.5406981 C18.0665625,12.6612008 17.9641102,12.763653 17.8436076,12.841119 Z"})),r.a.createElement("span",null,"See how it works")))),r.a.createElement("div",{className:"chips pos_abs"},r.a.createElement(m.a,{avatar:r.a.createElement(u.a,null,"F"),label:"Everything is free",clickable:!0,color:"primary"}),r.a.createElement(m.a,{avatar:r.a.createElement(u.a,null,"E"),label:"Everything is Easy",clickable:!0,color:"primary"}),r.a.createElement(m.a,{avatar:r.a.createElement(u.a,null,"R"),label:"All information is reserved ",clickable:!0,color:"primary"})))))},h=a(66),f=a(200),b=a(122),v=a(198),E=a(204),g=a(211),y=a(19),w=a(201),j=a(222),O=a(123),k=a(75),N=a.n(k),S=a(67),_=a(102),x=a(46),C=a(47),L=a(216),M=function(){function e(){Object(x.a)(this,e),this.isLogged=!1,this.email=this.password="",this.schedules=[]}return Object(C.a)(e,[{key:"setUser",value:function(e){Object.assign(this,e),this.isLogged=!0,console.log(this)}}]),e}(),P=a(218),q=a(215),A=a(197),T=a(212),R=new(function(){function e(){Object(x.a)(this,e),this.data={errors:[],messages:[]},this.subject=new L.a,Object.defineProperties(this,{data:{configurable:!1,writable:!1}}),this.user=new M}return Object(C.a)(e,[{key:"auth",value:function(){var e=Object(_.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:"user"==(r=e.sent).status?(this.data.messages.push("You are logged"),this.user.setUser(Object(S.a)(Object(S.a)({},a),{},{id:r.id||a.id}))):this.data.errors=r.errors||r.messages||[],e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.prev=12,e.abrupt("return",this.data);case 15:case"end":return e.stop()}}),e,this,[[0,10,12,15]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"sendEmail",value:function(){var e=Object(_.a)(N.a.mark((function e(t){var a,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/sendemail",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:n=e.sent,200==a.status?this.data.messages.push("Your message is sent"):(r=this.data.errors).push.apply(r,Object(O.a)(n.errors||[])),e.next=12;break;case 11:this.data.errors.push("Http Error "+a.status);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),this.data.errors.push("Http Error. Please try again");case 18:return e.prev=18,this.subject.next(this.data),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[0,14,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"request",value:function(e){return Object(P.a)(e).pipe(Object(A.a)(3),Object(T.a)((function(e){return Object(q.a)(e)})))}}]),e}()),B=a(88),D=a.n(B);var U=a(93),W=a(92),J=a(205),F=a(52),I=a(206),H=a(207),Y=a(53),K=Object(F.a)({root:{width:300}}),G=function(e){Object(U.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).state={posts:[],classes:{}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;R.user.isLogged&&R.user.id?R.request("http://localhost:8000/userSchedule/?id="+R.user.id).subscribe((function(t){console.log(t.xhr.responseText),e.setState({classes:K()})})):console.log(R.user)}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement(l,null,r.a.createElement("div",{className:"section__content-wrap "},r.a.createElement("div",{className:"section__content-main flex_center flex_cl txt_center"},r.a.createElement("h5",null,"Your schedule ",r.a.createElement("span",null,"\ud83d\ude80")),r.a.createElement("br",null),r.a.createElement("div",{className:"section__items"},!this.state.posts.length&&Object(B.range)(0,3,1).map((function(t){return r.a.createElement("div",{className:e.state.classes.root,key:t},r.a.createElement(J.a,{className:e.state.classes.root}),r.a.createElement(J.a,{animation:!1,className:e.state.classes.root}),r.a.createElement(J.a,{animation:"wave",className:e.state.classes.root}),r.a.createElement(J.a,{animation:"wave",className:e.state.classes.root}),r.a.createElement(J.a,{animation:"wave",className:e.state.classes.root}))})),this.state.posts.map((function(e){return r.a.createElement(v.a,null,r.a.createElement(I.a,null,r.a.createElement(H.a,null,r.a.createElement(Y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.date),r.a.createElement(Y.a,{variant:"body2",color:"textSecondary",component:"p"},e.message))))})))))))}}]),a}(r.a.PureComponent),V=a(91),Z=a(213),$=a(217),z=function(e){Object(U.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).state={isSignUp:n.props.match.path.includes("/signup"),errors:[],messages:[],isLogged:!1},n.submit=n.submit.bind(Object(V.a)(n)),n.email=r.a.createRef("email"),n.password=r.a.createRef("password"),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(Z.a)(1e3).pipe(Object($.a)(3)).subscribe((function(t){R.user.isLogged&&e.setState({isLogged:!0})}))}},{key:"submit",value:function(e){var t=this;e.preventDefault(),R.auth(this.props.match.path,{email:this.email.current.querySelector("input").value,password:this.password.current.querySelector("input").value}).then((function(e){t.setState(Object(S.a)(Object(S.a)({},e),{},{isLogged:R.user.isLogged})),localStorage.setItem("auth",JSON.stringify(R.user))}))}},{key:"render",value:function(){return r.a.createElement("section",{className:"banner ban_2"},r.a.createElement(l,null,r.a.createElement("div",{className:"schedule__area h_100"},r.a.createElement("form",{className:"auth__form"},r.a.createElement("div",{className:"headline"},this.state.isSignUp?"Sign up":"Login"),r.a.createElement("div",{className:"email"},r.a.createElement(g.a,{id:"outlined-basic",label:"Email",variant:"outlined",ref:this.email,InputProps:{readOnly:this.state.isLogged}})),r.a.createElement("div",{className:"password"},r.a.createElement(g.a,{id:"outlined-basic",label:"Password",variant:"outlined",ref:this.password,InputProps:{readOnly:this.state.isLogged}})),r.a.createElement("div",{className:"errors"},this.state.errors.map((function(e){return r.a.createElement(o.a,{variant:"outlined",color:"warn",key:e,href:"#outlined-buttons"},e)}))),r.a.createElement("div",{className:"messages"},this.state.messages.map((function(e){return r.a.createElement(o.a,{variant:"outlined",color:"primary",key:e,href:"#outlined-buttons"},e)}))),r.a.createElement("div",{className:"actions"},!R.user.isLogged&&r.a.createElement(o.a,{variant:"contained",color:"primary",onClick:this.submit},"Submit"))))))}}]),a}(r.a.PureComponent),Q=[{path:"/",component:p,exact:!0},{path:"/sendmail",component:function(){var e=r.a.useState(new Date),t=Object(h.a)(e,2),a=t[0],s=t[1],c=r.a.createRef(),i=r.a.createRef(),u=function(e,t){s((function(){if(e){var n=new Date(a);return n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n}return t}))},m=Object(n.useState)({errors:[],messages:[]}),d=Object(h.a)(m,2),p=d[0],O=d[1];R.subject.subscribe((function(e){O(e)})),r.a.useEffect((function(){var e=document.querySelector("#send_email");D.a.forEach({type:"email",required:"true",minlength:"10",maxlength:"40"},(function(t,a){e.querySelector("input").setAttribute(a,t),"minlength"!=a&&"maxlength"!=a||e.querySelector("textarea").setAttribute(a,t)})),e.querySelector("input").setAttribute("type","email")}));var k=r.a.createElement("div",{className:"schedule__area",key:Math.random()},r.a.createElement(v.a,null,r.a.createElement("form",{autoComplete:"off",id:"send_email",noValidate:!1},r.a.createElement("div",{className:"headline"},"Schedule an event"),r.a.createElement("div",{className:"email"},r.a.createElement(g.a,{id:"standard-basic",ref:c,label:"Email",value:R.user.email})),r.a.createElement("div",{className:"message"},r.a.createElement(g.a,{id:"standard-multiline-flexible",ref:i,label:"Message",multiline:!0,rowsMax:4})),r.a.createElement("div",{className:"date"},r.a.createElement(y.a,{utils:b.a},r.a.createElement(f.a,{container:!0,justify:"space-around"},r.a.createElement(w.a,{margin:"normal",id:"date-picker-dialog",label:"Date",format:"MM/dd/yyyy",value:a,onChange:u.bind(null,!1),KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(j.a,{margin:"normal",id:"time-picker",label:"Time ",value:a,onChange:u.bind(null,"time"),KeyboardButtonProps:{"aria-label":"change time"}})))),r.a.createElement("div",{className:"errors__area"},p.errors.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{color:"secondary",key:e+Math.random()},e),r.a.createElement(E.a,null))})),p.messages.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{color:"primary",key:e+Math.random()},e),r.a.createElement(E.a,null))}))),r.a.createElement("div",null,r.a.createElement(o.a,{color:"primary",variant:"contained",onClick:function(e){e.preventDefault(),R.sendEmail({date:a,email:c.current.querySelector("input").value,message:i.current.querySelector("textarea").value})}},"Send")))));return r.a.createElement("div",{className:"banner"},r.a.createElement(l,null,k))},exact:!0},{path:"/signup",component:z,exact:!0},{path:"/login",component:z,exact:!0},{path:"/posts",component:G,exact:!0},{path:"",component:p}];var X=function(){return Object(n.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("auth"));"email"in e&&"password"in e&&R.auth("/login")}catch(t){}})),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.c,null,[Q.map((function(e){return r.a.createElement(i.a,Object.assign({},e,{key:e+Math.random()}))}))]))},ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ae=a(208),ne=a(203),re=a(151),se=a(121),ce=a.n(se),ie=a(219),le=a(199),oe=a(209),ue=a(210),me=Object(F.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},list:{width:250},fullList:{width:"auto"}}})),de=function(){var e=me(),t=Object(n.useCallback)((function(){var e=[{Main:"http://localhost:3000"}];return setTimeout((function(){R.user.isLogged||e.push({Login:"/login"},{"Sign up":"/signup"})}),2e3),e.push({"Send mail":"/sendmail"},{"Your schedule":"/posts"}),e})),a=Object(n.useState)(t()),s=Object(h.a)(a,2),c=s[0],i=s[1];Object(n.useEffect)((function(){Object(Z.a)(1e3).pipe(Object($.a)(3)).subscribe((function(e){var a=t();a!==c&&i(a)}))}));var l=Object(n.useState)(!1),u=Object(h.a)(l,2),m=u[0],p=u[1];return r.a.createElement("div",{className:e.root},r.a.createElement(ae.a,{position:"static"},r.a.createElement(ne.a,{variant:"dense"},r.a.createElement(re.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return p(!0)}},r.a.createElement(ce.a,null)),r.a.createElement(Y.a,{variant:"h6",color:"inherit"},r.a.createElement(d.b,{to:"/"},"Schedule")))),r.a.createElement(ie.a,{anchor:"left",open:m,onClose:function(){return p(!1)}},r.a.createElement("div",{className:"menu__icon"},r.a.createElement(o.a,{href:"#text-buttons",color:"primary"},"Menu")),r.a.createElement(le.a,null,c.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:Object.values(t)[0],className:"links"},r.a.createElement(oe.a,{button:!0,key:Math.random(),className:e.list},r.a.createElement(ue.a,{primary:Object.keys(t)[0]}))),r.a.createElement(E.a,null))})))))};c.a.render(r.a.createElement(d.a,null,r.a.createElement(de,null),r.a.createElement(X,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ee?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):te(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):te(t,e)}))}}()}},[[134,1,2]]]);
//# sourceMappingURL=main.c499b2f9.chunk.js.map